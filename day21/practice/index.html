<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>이벤트 리스너 예제</title>

    <style>
      #box {
        width: 100px;
        height: 100px;
        background-color: red;
        transition: background-color 0.5s ease;
      }

      #box:hover {
        background-color: blue;
      }
    </style>
  </head>

  <body>
    <button id="changeTextBtn">클릭하세요</button>
    <button id="changeTextBtn2">링크 변경</button>
    <button id="btn3">새로운 리스트 아이템 추가</button>
    <button id="startAnimation">#movingBox 애니메이션 시작</button>

    <p id="text">기본 텍스트입니다.</p>

    <a href="https://naver.com">네이버로 이동</a>

    <input type="text" id="nameInput" />

    <div id="displayName"></div>

    <ul id="itemList"></ul>

    <div id="box"></div>

    <div
      id="movingBox"
      style="
        width: 50px;
        height: 50px;
        background-color: blueviolet;
        position: absolute;
      "
    ></div>

    <script>
      let count = 0;
      let count2 = 0;

      const button = document.getElementById("changeTextBtn");
      const button2 = document.getElementById("changeTextBtn2");
      const button3 = document.getElementById("btn3");

      const movingBoxButton = document.getElementById("startAnimation");

      const link = document.querySelector("a");

      const inputField = document.getElementById("nameInput");

      inputField.addEventListener("input", () => {
        const displayNameElement = document.getElementById("displayName");

        displayNameElement.textContent = inputField.value;
      });

      button.addEventListener("click", () => {
        document.getElementById("text").innerText = "텍스트가 변경되었습니다.";

        const newDiv = document.createElement("div");

        count++;

        newDiv.textContent = `이것은 ${count}번째 새로운 div입니다!`;
        newDiv.innerText;

        // 사용자가 볼 수 있도록 실제 DOM (Document Object Model)에 반영.
        document.body.appendChild(newDiv);
      });

      button2.addEventListener("click", () => {
        // const elementToRemove = document.querySelector("div");
        // document.body.removeChild(elementToRemove);

        link.setAttribute("href", "https://google.com");
        link.textContent = "구글로 이동";
      });

      button3.addEventListener("click", () => {
        const newItem = document.createElement("li");
        const listContainer = document.getElementById("itemList");

        count2++;

        newItem.textContent = `${count2} 번째 새 항목`;

        listContainer.appendChild(newItem);
      });

      movingBoxButton.addEventListener("click", () => {
        const movingBox = document.getElementById("movingBox");

        let position = 0;

        const id = setInterval(frame, 10);

        function frame() {
          if (position == 350) {
            clearInterval(id);
          } else {
            position++;

            movingBox.style.top = position + "px";
            movingBox.style.left = position + "px";
          }
        }
      });
    </script>
  </body>
</html>
